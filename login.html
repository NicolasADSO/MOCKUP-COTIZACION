<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login Contrato - Gadier Sistemas</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="./assets/css/login-contrato.css">
</head>

<body class="login-body">

  <script>
    if (localStorage.getItem("usuario_logueado")) {
      window.location.href = "cotizacion.html";
    }
  </script>

  <div class="login-wrapper">

    <!-- HEADER: logo centrado arriba -->
    <header class="login-header">
      <img src="./assets/img/logo-blanco-sin-fondo.png" alt="Gadier Sistemas" class="login-logo">
    </header>

    <!-- CONTENIDO: tarjeta glass con el contrato -->
    <main class="contenedor">
      <div class="formulario">

        <h2 class="titulo">Contrato de Acceso</h2>
        <p class="sub">Complete los campos para validar su identidad</p>

        <div class="grupo">
          <label>Rol</label>

          <div id="customSelect" class="custom-select">
            <span id="customSelectText">Seleccione un rol...</span>
            <svg class="arrow" width="18" height="18" viewBox="0 0 24 24">
              <path fill="black" d="M7 10l5 5 5-5z" />
            </svg>
          </div>

          <ul id="customOptions" class="custom-options">
            <li data-value="admin">Administrador</li>
            <li data-value="cotizador">Cotizador</li>
            <li data-value="soporte">Soporte</li>
            <li data-value="tecnica">T√©cnica</li>
          </ul>

          <!-- SELECT REAL OCULTO (NECESARIO PARA JS DEL LOGIN) -->
          <select id="rolUsuario" style="display:none;">
            <option value="">Seleccione un rol...</option>
            <option value="admin">Administrador</option>
            <option value="cotizador">Cotizador</option>
            <option value="soporte">Soporte</option>
            <option value="tecnica">T√©cnica</option>
          </select>
        </div>

        <!-- Contrase√±a -->
        <div class="grupo" style="position:relative;">
          <label>Con contrase√±a</label>
          <input type="password" id="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" style="padding-right: 40px;">
          <i id="togglePassword" class="fa-solid fa-eye"
            style="position: absolute; right: 10px; bottom: 15px; cursor: pointer; color: #555;"></i>
        </div>

        <!-- Bot√≥n -->
        <button id="btnLogin" class="btn">Validar</button>

        <!-- SELLO -->
        <div id="selloWrapper" style="display:none;">
          <img id="sello" src="./assets/img/logo-blanco-sin-fondo.png" alt="Logo">
        </div>

        <p id="msg" class="msg"></p>
      </div>

    </main>
  </div>

  <!-- ============================================================
     üì¶ PANTALLA DE CARGA GADIER ‚Äî CAJA + SELLO
  =============================================================== -->
  <div id="pantallaCarga" style="
    display:none;
    position:fixed;
    inset:0;
    background:#000000d8;
    backdrop-filter:blur(4px);
    z-index:99999;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    color:white;
    font-family:'Arial', sans-serif;
">


    <!-- Caja flotante -->
    <div style="position:relative; animation:flotar 1.8s ease-in-out infinite;">
      <img src='./assets/img/caja.png' style="width:170px; filter:drop-shadow(0 0 6px #000);" />

      <!-- Sello encima -->
      <img src='./assets/img/LOGO-NEGRO-Y-BLANCO.png' style="
              width:85px;
              position:absolute;
              top:55%;
              left:50%;
              transform:translate(-50%, -50%);
              animation: selloPop 0.9s ease-out forwards;
            " />
    </div>

    <!-- Texto -->
    <div style="margin-top:20px;font-size:20px;font-weight:600;">
      Cargando...
    </div>

    <!-- Barra -->
    <div style="
      margin-top:14px;
      width:210px;
      height:6px;
      border-radius:6px;
      background:#ffffff33;
      overflow:hidden;
    ">
      <div id="barraCarga" style="
          width:0%;
          height:100%;
          background:#990f0c;
          transition:width 2s linear;
        "></div>
    </div>
  </div>

  <!-- Animaciones -->
  <style>
    @keyframes flotar {
      0% {
        transform: translateY(0px);
      }

      50% {
        transform: translateY(-10px);
      }

      100% {
        transform: translateY(0px);
      }
    }

    @keyframes selloPop {
      0% {
        transform: translate(-50%, -50%) scale(0.4);
        opacity: 0;
      }

      70% {
        transform: translate(-50%, -50%) scale(1.1);
        opacity: 1;
      }

      100% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
      }
    }
  </style>

  <script>
    // Si no existe sesi√≥n, asegurar que la pantalla de carga est√© oculta
    document.addEventListener("DOMContentLoaded", () => {
      if (!localStorage.getItem("usuario_logueado")) {
        const pantalla = document.getElementById("pantallaCarga");
        const barra = document.getElementById("barraCarga");

        if (pantalla) pantalla.style.display = "none";
        if (barra) barra.style.width = "0%";
      }
    });
  </script>

  <script src="./assets/js/login-contrato.js"></script>


</body>

</html>